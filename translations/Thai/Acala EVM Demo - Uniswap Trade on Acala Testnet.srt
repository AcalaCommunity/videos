1
00:00:00,799 --> 00:00:06,879
ต่อไปฉันจะโชว์คุณว่า

2
00:00:03,280 --> 00:00:09,200
วิธีการปรับใช้ uniswap กับ Acala

3
00:00:06,879 --> 00:00:10,880
บล็อคเชน

4
00:00:09,200 --> 00:00:13,280
ฉันอยากจะลองใช้เหรียญ ripple

5
00:00:10,880 --> 00:00:16,000
ตรงๆดูแต่น่าเสียดายว่า uniswap

6
00:00:13,280 --> 00:00:17,440
ใช้เหรียญ ripple เวอร์ชันเก่ามาก

7
00:00:16,000 --> 00:00:20,240
 

8
00:00:17,440 --> 00:00:21,039
ดังนั้น มันจะยุ่งยากที่จะย้าย

9
00:00:20,240 --> 00:00:23,119
ไปเป็น

10
00:00:21,039 --> 00:00:25,119
เวอร์ชันใหม่เพื่อให้เข้ากับทั้งสอง

11
00:00:23,119 --> 00:00:27,920
ดังนั้นฉัน

12
00:00:25,119 --> 00:00:29,760
จึงนำ artifact มาจาก uniswap

13
00:00:27,920 --> 00:00:33,280
ripple

14
00:00:29,760 --> 00:00:37,200
นี่คือไฟล์ json

15
00:00:33,280 --> 00:00:37,840
ความจริงแล้วให้ฉัน เอ่อ

16
00:00:37,200 --> 00:00:41,680
ให้ฉัน

17
00:00:37,840 --> 00:00:45,280
deploy(แปลง) สัญญา

18
00:00:41,680 --> 00:00:49,360
ให้ testnet ของเรา

19
00:00:45,280 --> 00:00:52,960
และนี่คือ setup ที่ระบบต้องการ

20
00:00:49,360 --> 00:00:53,600
ใน deploy  ใน deploy.js

21
00:00:52,960 --> 00:00:56,000
คุณจะเห็น

22
00:00:53,600 --> 00:00:58,320
โค้ด ซึ่งจะค่อนข้างธรรมดา

23
00:00:56,000 --> 00:01:00,000
ตรงไปตรงมา ไม่มีอะไรพิเศษ

24
00:00:58,320 --> 00:01:03,039
สำหรับ acala จะเห็นได้ว่ามันเป็นแค่โปรเจ็ค

25
00:01:00,000 --> 00:01:06,240
ธรรมดา คุณจะเห็น

26
00:01:03,039 --> 00:01:07,119
ตรงนี้ ฉันได้สร้าง Aca Token

27
00:01:06,240 --> 00:01:09,439
contract สำหรับ

28
00:01:07,119 --> 00:01:10,799
โทเค็น acala และ dot อันนี้คือ

29
00:01:09,439 --> 00:01:12,799
address ของบัญชี

30
00:01:10,799 --> 00:01:14,320
และนี่คือระบบของสัญญาดังนั้นเราสามารถ

31
00:01:12,799 --> 00:01:16,400
คุณสามารถเลือก address

32
00:01:14,320 --> 00:01:18,880
คุณจะเห็นได้ว่าเรา

33
00:01:16,400 --> 00:01:20,560
ตั้งมันให้เรียบง่าย

34
00:01:18,880 --> 00:01:23,360
จากนั้นเราจะ deploy UniswapFactory

35
00:01:20,560 --> 00:01:24,640
contract และก็ deploy UniswapRouter

36
00:01:23,360 --> 00:01:27,680
contract

37
00:01:24,640 --> 00:01:31,200
โดยแค่ใส่ไปใน address

38
00:01:27,680 --> 00:01:35,200
approve เราสามารถ

39
00:01:31,200 --> 00:01:37,600
ทำการโยกย้าย หรือเพิ่มสภาพคล่อง

40
00:01:35,200 --> 00:01:39,680
หรือสามารถปริ๊นข้อมูลต่างๆได้

41
00:01:37,600 --> 00:01:40,640
นี่คือสิ่งสคริปต์พื้นฐานของทำงานของ

42
00:01:39,680 --> 00:01:44,479
deploy

43
00:01:40,640 --> 00:01:48,880
บนเทสเน็ตของเรา คุณสามารถเห็น

44
00:01:44,479 --> 00:01:55,840
การ deploy เราเตอร์ไปที่ address นี้

45
00:01:48,880 --> 00:01:55,840
ฉันไปเปลี่ยน address ตรงนี้

46
00:01:56,960 --> 00:02:00,479
และรันสคริปต์โดยสคริปต์นี้

47
00:01:58,960 --> 00:02:03,280
 

48
00:02:00,479 --> 00:02:03,920
นำยูนิตของ router ไป

49
00:02:03,280 --> 00:02:06,079
พิสูจน์

50
00:02:03,920 --> 00:02:07,439
เอ่อ ตรวจสอบยอดเงินและ

51
00:02:06,079 --> 00:02:09,679
ทำการซื้อขายหน่วยแลกเปลี่ยน

52
00:02:07,439 --> 00:02:13,280
นั่นคือในกรณีนี้คุณพยายามที่จะขายบาง

53
00:02:09,679 --> 00:02:16,959
ส่วนเพื่อจะซื้อ โทเค็น ACA

54
00:02:13,280 --> 00:02:17,760
อืม มันเลยพยายามขาย

55
00:02:16,959 --> 00:02:22,319
dot ตัวเดียวที่จะซื้อ

56
00:02:17,760 --> 00:02:24,560
ACA จำนวนหนึ่ง

57
00:02:22,319 --> 00:02:27,599
และสิ่งนี้จะพิมพ์ยอดดุลไปเพื่อ

58
00:02:24,560 --> 00:02:29,120
ตรวจสอบว่าการแลกเปลี่ยนมีความสำเร็จหรือไม่

59
00:02:27,599 --> 00:02:31,360
ดังนั้นมันจึงทำงานบนเครือข่ายทดสอบเพื่อให้คุณได้

60
00:02:29,120 --> 00:02:34,640
สังเกตุ ยอดดุล

61
00:02:31,360 --> 00:02:36,720
ก่อนและ หลัง

62
00:02:34,640 --> 00:02:40,879
จำนวนของ dot จะลดลงหนึ่ง

63
00:02:36,720 --> 00:02:43,920
จำนวน aca เพิ่มขึ้นประมาณหนึ่ง

64
00:02:40,879 --> 00:02:48,400
ใช่คุณสามารถตรวจสอบสภาพคล่องได้

65
00:02:43,920 --> 00:02:48,400
ในช่วงเวลาการซื้อขาย

66
00:02:48,480 --> 00:02:56,319
คุณสามารถเห็น อืม มีการเรียกเก็บเงินบางส่วน

67
00:02:51,840 --> 00:02:59,440
จากปริมาณสภาพคล่องด้วย

68
00:02:56,319 --> 00:03:03,280
ดังนั้นโดยพื้นฐานแล้ว คุณทำได้อย่างไร

69
00:02:59,440 --> 00:03:05,599
ถ้าต้องเขียน scrap สำหรับหน่วยแลกเปลี่ยน

70
00:03:03,280 --> 00:03:07,599
ด้วย scrap เห็นได้ชัดว่าคุณทำไม่ได้

71
00:03:05,599 --> 00:03:11,360
ง่ายนักในการเชื่อมต่อสิ่งนี้กับUI ของคุณ

72
00:03:07,599 --> 00:03:14,720
เพื่อให้สิ่งต่าง ๆ ทำงาน

73
00:03:11,360 --> 00:03:16,319
อืมในการตั้งค่า js เราไม่ได้ทำ

74
00:03:14,720 --> 00:03:19,280
อะไรพิเศษ

75
00:03:16,319 --> 00:03:20,480
สิ่งที่เราทำโดยพื้นฐานแล้วสร้าง

76
00:03:19,280 --> 00:03:24,720
provider ดังนั้นสิ่งนี้

77
00:03:20,480 --> 00:03:28,000
นี้คือ เอ่อ ether

78
00:03:24,720 --> 00:03:29,440
provider มันเสนอการ implement

79
00:03:28,000 --> 00:03:31,280
โดย bodhi

80
00:03:29,440 --> 00:03:33,680
การนำอินเทอร์เฟซผู้ให้บริการ

81
00:03:31,280 --> 00:03:36,080
abstract provider ของ ether

82
00:03:33,680 --> 00:03:38,239
นี่คือ abstract provider จึงได้ผล

83
00:03:36,080 --> 00:03:41,360
กับ ether

84
00:03:38,239 --> 00:03:43,920
js และสิ่งนี้ต้องใช้ผู้ให้บริการ websocket

85
00:03:41,360 --> 00:03:48,159
ซึ่งโดยพื้นฐานแล้วในโหนด url

86
00:03:43,920 --> 00:03:48,159
รอให้ชุมชนสร้าง

87
00:03:48,400 --> 00:03:52,959
ครีเอเตอร์เซ็นชื่อไว้ที่นี่

88
00:03:51,120 --> 00:03:54,319
ดังนั้นคุณจะใช้อันที่มาจาก

89
00:03:52,959 --> 00:03:54,799
ตัวแปรสภาพแวดล้อมที่ฉันมี

90
00:03:54,319 --> 00:03:58,640
กำหนดไว้แล้ว

91
00:03:54,799 --> 00:04:01,599
ด้วยตัวเองหรือมันก็แค่การทดสอบ

92
00:03:58,640 --> 00:04:03,280
เก็บไว้ที่นี่หากคุณใช้งานสิ่งนี้บนเครือข่ายของคุณ

93
00:04:01,599 --> 00:04:06,319
เครือข่ายทดสอบในเครื่องของคุณ

94
00:04:03,280 --> 00:04:10,319
และสร้างคีย์การลงนาม สร้างผู้ลงนาม

95
00:04:06,319 --> 00:04:14,000
และนี่คืออีกครั้ง

96
00:04:10,319 --> 00:04:16,720
abstract signer จาก ether

97
00:04:14,000 --> 00:04:17,600
ใช่ และนั่นก็ค่อนข้างเยอะแล้ว ตอนนี้คุณ

98
00:04:16,720 --> 00:04:20,720
กับสิ่งนี้จะ

99
00:04:17,600 --> 00:04:24,320
สามารถใช้งานมันได้ปกติ

100
00:04:20,720 --> 00:04:26,000
กับ ether wallet

101
00:04:24,320 --> 00:04:28,800
และสิ่งนี้ควรใช้ได้กับ

102
00:04:26,000 --> 00:04:31,919
การ deploy ของคุณที่มีอยู่แล้ว และอื่น ๆ

103
00:04:28,800 --> 00:04:32,479
พวกเขากำลังใช้ ethers js ดังนั้นนี่คือ

104
00:04:31,919 --> 00:04:36,000
พื้นฐาน

105
00:04:32,479 --> 00:04:39,199
อืมคุณจะปรับใช้ได้อย่างไร

106
00:04:36,000 --> 00:04:40,160
สัญญาแลกเปลี่ยนหน่วยใน

107
00:04:39,199 --> 00:04:42,240
เครือข่ายทดสอบของเรา

108
00:04:40,160 --> 00:04:44,400
และหรือถ้าคุณต้องการ คุณสามารถปรับใช้

109
00:04:42,240 --> 00:04:48,400
นี้ไปยังเครือข่ายท้องถิ่นของคุณดังนั้น

110
00:04:44,400 --> 00:04:48,400
คุณเพียงแค่ถ้าคุณไม่ตั้งค่าใด ๆ

111
00:04:51,400 --> 00:04:54,400
ในสิ่งแวดล้อมของคุณ

